/*
 *
 * Graceful gallery
 * by Tim Perry (www.applicious.co)
 * v1.0 - April 2013
 *
 */(function(e){e.fn.GracefulGallery=function(t){var n=e.extend({current_class:"is-current",pagination_classes:"",slider_speed:1e3,slider_timeout:5e3,disable_css_animations:!1},t),r={slide:function(t,i){clearTimeout(t.timer);i&&++t.page_num>=t.pages_count&&(t.page_num=0);e(t.pagination).siblings().removeClass(n.current_class).eq(t.page_num).addClass(n.current_class);var s=t.page_width*t.page_num;if(!n.disable_css_animations&&typeof window.Modernizr!="undefined"&&Modernizr.csstransitions){t.pages_holder.css("transform",["translate(-",s,"px)"].join(""));t.pages_holder.css("transition",[n.slider_speed+"ms cubic-bezier( 0.25, 0.1, 0.25, 1)"].join(""))}else t.pages_holder.animate({left:["-",s,"px"].join("")},n.slider_speed);t.timer=setTimeout(function(){r.slide(t,!0)},n.slider_timeout)},update_widths:function(e){e.page_width=e.outerWidth();e.pages.width(e.page_width);e.pages_holder.width(e.page_width*e.pages_count)},setup_attrs:function(e){e.pages_holder=e.find(".slider-pages");e.pages=e.pages_holder.children();e.pagination=!1;e.page_width=!1;e.pages_count=e.pages.length;e.timer=0;e.page_num=0;r.update_widths(e)},setup_pagination:function(t){var r=1,i=['<div class="slider-pagination"><a class="',n.pagination_classes," ",n.current_class,'" href="#">1</a>'];while(r++<t.pages_count){i.push('<a class="');i.push(n.pagination_classes);i.push('" href="#">');i.push(r);i.push("</a>")}i.push("</div>");e(t).append(i.join(""));t.pagination=t.find(".slider-pagination").find("a")},setup_listeners:function(t){t.pagination.click(function(n){t.page_num=e(this).index();r.slide(t,!1);n.preventDefault()});e(window).resize(function(){r.update_widths(t);t.pages_holder.css("left",["-",t.page_width*t.page_num,"px"].join(""))});e(t).hover(function(){clearTimeout(t.timer)},function(){r.slide(t,!1)})}};return this.each(function(){var t=e(this);r.setup_attrs(t);r.setup_pagination(t);r.setup_listeners(t);r.slide(t,!1)})}})(jQuery);